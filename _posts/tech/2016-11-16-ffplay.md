---
layout: post
title: ffmpeg/ffplay命令记录
category: 技术
keywords: ffmpeg,ffplay
---


打出来的视频信息，但是没有播放，但是会输出视频帧到当前目录

	ffmpeg -i "rtmp://192.168.24.142/oflaDemo/st6 live=1" -f image2 -vf fps=fps=1 out%d.png

播放RMTP直播流

	ffplay -i "rtmp://192.168.24.142/oflaDemo/st6 live=1"

fplay播放yuv文件命令

	ffplay -f rawvideo -video_size 1920x1080 a.yuv

设置播放没有缓冲区

	ffplay -x 240 -y 320 109.flv -fflags nobuffer


	ffplay -i "rtmp://192.168.24.142/oflaDemo/st5 live=1" -fflags nobuffer -analyzeduration 1000000

列出本机可用设备

	ffmpeg -list_devices true -f dshow -i dummy 

播放本机USB摄像头捕捉数据

	ffplay -f dshow -i video="USB Camera" -f dshow -i audio="音频设备"
	ffplay -f vfwcap -i 0
	//设置分辨率和帧率播放
	ffplay -s 424x240 -r 5 -f dshow -i video="USB Camera"


将USB摄像头捕捉的数据编码成H264保存到文件

	ffmpeg -f dshow -i video="USB Camera" -vcodec libx264 camera.mkv

将USB摄像头数据通过RTMP协议发送出去

	ffmpeg -f dshow -i video="USB Camera" -vcodec libx264 -preset:v ultrafast -tune:v zerolatency -f flv rtmp://localhost/oflaDemo/livestream

查看设备选项

	ffmpeg -list_options true -f dshow -i video="USB Camera" 